!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e,n,t){},,function(e,n,t){"use strict";t.r(n);var o;t(0);var r,i="FormDatabase",u="FormBuilder",c=1;var a,d=function(){if(void 0!=o)return r=o.transaction(u,"readwrite");console.log("wait")},s=function(){if(void 0!=o)return a=r.objectStore(u);console.log("wait")},l={ID:"0",question:"",type:"",condition:"",condition_type:""};function f(e,n,t){var o;d(),s();var r=a.index("ID");r.get("".concat(e)).onsuccess=function(e){switch(o=e.target.result,n){case"question":o.question=t;break;case"type":o.type=t;break;case"condition":o.condition=t;break;case"condition_type":o.condition_type=t}var r=a.put(o);r.onsuccess=function(e){m()},r.onerror=function(e){p(e)}},r.get(e).onerror=function(e){p(e)}}var v=[];var p=function(e){console.log("Error ".concat(e.errorCode))},m=function(){console.log("Everything is fine. All done!")};function y(e){var n=e,t=document.getElementById("".concat(n)),o=Array.from(t.getElementsByClassName("form"));for((o=o.map(function(e){return e.id})).push(n),function(e){d(),s(),a.openCursor().onsuccess=function(n){var t=n.target.result;t?(e.forEach(function(e){t.value.ID==e&&(t.delete().onsuccess=function(){m()})}),t.continue()):m()}}(o);t.hasChildNodes();)t.removeChild(t.firstChild);t.remove()}var b,h,g,E,q,I,x,L,S=0,_=[];function D(e,n){L=e;var t=Array.from(document.querySelectorAll("*[id]"));if(_=t.map(function(e){return e.id}),"add"==n)h=void 0==h?0:e;else if("load"==n){h=L.ID,E=L.question,q=L.type,I=L.condition,x=L.condition_type;var o=h.length-2;g=h.slice(0,o)}var i=function(e){return document.createElement(e)},u=function(e,n){return e.innerHTML=n},c=function(e,n){return e.appendChild(n)};b=0==h?document.querySelector("section"):document.getElementById("".concat(h)),"load"==n&&(b=g?document.getElementById("".concat(g)):document.querySelector("section"));var v=i("div");c(b,v);var T=i("form");if(c(v,T),0!=h&&g){var C=i("span");c(T,C),C.innerHTML="Condition";var j=i("input");c(T,j),j.addEventListener("change",function(){f(this.parentElement.parentElement.id,"condition",this.value)});var A=i("select");c(T,A);var M=i("option");u(M,"Equals"),c(A,M);var O=i("option");u(O,"Greater than"),c(A,O);var k=i("option");u(k,"Less than"),c(A,k),c(T,i("br")),A.addEventListener("change",function(){f(this.parentElement.parentElement.id,"condition_type",this.value)}),"load"==n&&(j.setAttribute("type","text"),j.setAttribute("value",I),A.value=x)}var w=i("span");c(T,w),w.innerHTML="Question";var B=i("input");c(T,B),c(T,i("br"));var N=i("span");c(T,N),N.innerHTML="Type";var P=i("select");c(T,P),c(T,i("br"));var H=i("option");u(H,"Text"),c(P,H),H.value="Text";var F=i("option");u(F,"Number"),c(P,F),F.value="Number";var Y=i("option");u(Y,"Yes/No"),c(P,Y),Y.value="Yes/No";var G=i("button");u(G,"Add Sub-Input"),c(v,G);var Q=i("button");u(Q,"Delete"),c(v,Q),"load"==n&&(B.setAttribute("type","text"),B.setAttribute("value",E),P.value=q);var z=function(e){return e==S};!function(){var e=1,n=0;do{S=0==h?e:"".concat(h,"_").concat(e),z(),n=_.find(z),e++}while(void 0!=n)}(),"load"==n&&(S=h),G.addEventListener("click",function(){D(this.parentElement.id,"add")}),Q.addEventListener("click",function(){y(this.parentElement.id)}),B.addEventListener("change",function(){f(this.parentElement.parentElement.id,"question",this.value)}),P.addEventListener("change",function(){f(this.parentElement.parentElement.id,"type",this.value)}),v.id=S,"add"==n&&function(e){l.ID="".concat(e),d(),s(),r.oncomplete=function(e){m()},r.onerror=function(e){p(e)};var n=a.add(l);n.onsuccess=function(e){m()},n.onerror=function(e){p(e)}}(S),v.classList.add("form")}document.querySelector("section").querySelector("button").addEventListener("click",function(){D(this.parentElement.id,"add")}),document.addEventListener("DOMContentLoaded",function(){var e=indexedDB.open(i,c);e.onsuccess=function(e){o=e.target.result,d(),s(),a.openCursor().onsuccess=function(e){var n=e.target.result;n?(v.push(n.value),n.continue()):function(e){var n=e;console.log(n),n.forEach(function(e){D(e,"load")})}(v)},m()},e.onerror=function(e){p(e)},e.onupgradeneeded=function(e){var n=e.target.result.createObjectStore(u,{keyPath:"id",autoIncrement:!0});n.createIndex("ID","ID",{unique:!1}),n.createIndex("question","question",{unique:!1}),n.createIndex("type","type",{unique:!1}),n.createIndex("condition","condition",{unique:!1}),n.createIndex("conditionType","conditionType",{unique:!1})}})}]);